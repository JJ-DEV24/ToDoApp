<p>Add Task</p>


<form [formGroup]="taskForm" (ngSubmit)="onSubmit()">

  <!--Title-->
  <mat-form-field>
    <mat-label for="title">Task:</mat-label>
    <input id="title" type="text" placeholder="e.g. make breakfast" matInput formControlName="title"/>
  </mat-form-field>

  <!--Due date-->
  <mat-form-field>
    <mat-label>Due date:</mat-label>
    <input id="date" formControlName="date" matInput [matDatepicker]="due">
    <mat-datepicker-toggle matIconSuffix [for]="due"/>
    <mat-datepicker #due></mat-datepicker>
  </mat-form-field>

  <!--Time-->
  <mat-form-field>
    <mat-label>Time:</mat-label>
    <input id="time" matInput [matTimepicker]="timepicker" formControlName="time">
    <mat-timepicker #timepicker/>
    <mat-timepicker-toggle [for]="timepicker" matSuffix/>
  </mat-form-field>

  <!--Submit button-->
  <button matButton="elevated" type="submit" [disabled]="!taskForm.valid">Submit</button>

</form>

<!--Display-->
<h1> Incompleted tasks </h1>




@for (task of listOfTasks; track task.id) {
  @if (task.completed === false) {
    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Task: {{ task.title }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      Due: {{ task.date | date: 'EEEE d MMMM y' }}
      Time: {{ task.time | date: 'hh:mm a' }}
      <p>Completed:
        <mat-slide-toggle [(ngModel)]="task.completed"></mat-slide-toggle>
      </p>
    </mat-expansion-panel>
  }
} @empty {
  <p>No tasks</p>
}


<mat-divider></mat-divider>

<h1> Completed tasks </h1>

@for (task of listOfTasks; track task.id) {
  @if (task.completed === true) {

    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Task: {{ task.title }}
        </mat-panel-title>
      </mat-expansion-panel-header>
      Due: {{ task.date | date: 'EEEE d MMMM y' }}
      Time: {{ task.time | date: 'hh:mm a' }}
      <p>Completed:
        <mat-slide-toggle [(ngModel)]="task.completed"></mat-slide-toggle>
      </p>
    </mat-expansion-panel>
  }
}

@empty {
  <p>No tasks</p>
}
